/* ======== Fit iPhone 12/14 Pro with rem units ======== */
:root {
  --phone-w: 24.375rem;  /* 390px / 16 */
  --phone-h: 52.75rem;   /* 844px / 16 */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
html { -webkit-text-size-adjust: 100%; }
body {
  margin: 0;
  font-family: 'Rubik', system-ui, sans-serif;
  background: linear-gradient(180deg,#eef2f6,#e9eff7);
  color: #0f172a;
}

/* Page card centered, always fills height nicely */
.o-page {
  min-height: min(100svh, var(--phone-h));
  display: grid;
  place-items: center;
  padding: 1rem;
}
.o-phone {
  width: 100%;
  max-width: var(--phone-w);
  background: #fff;
  border-radius: 1rem;
  box-shadow: 0 0.625rem 1.75rem rgba(15,23,42,.12);
  padding: 1.125rem 1.125rem 1.5rem;
}

/* Header */
.o-header {
  position: relative;
  display: grid;
  justify-items: center;
  gap: .5rem;
  text-align: center;
}

/* Logout icon top-left */
.c-headbtn--icon {
  position: absolute;
  top: .4rem;
  inset-inline-start: .4rem;
  inline-size: 2rem; block-size: 1.75rem;
  display: grid; place-items: center;
  border-radius: 999rem;
  border: 1px solid rgba(0,0,0,.08);
  background: linear-gradient(145deg,#F8F5EF,#EDE7DC);
  box-shadow: 0 .125rem .375rem rgba(0,0,0,.08), inset 0 0 .25rem rgba(255,255,255,.6);
}

/* Title (centered) */
.c-app-title {
  margin: .375rem 0 .125rem 0;
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.75rem;
  font-weight: 600;
  letter-spacing: .02em;
}

/* Lemon */
.c-icon-btn--lemon {
  display: grid; place-items: center;
  inline-size: 2.125rem; block-size: 2.125rem;
  border-radius: .75rem;
  border: 1px solid rgba(0,0,0,.06);
  background: radial-gradient(circle at 40% 35%, #fff, rgba(255,255,255,.2)), linear-gradient(180deg, #FFF7D1, #FFE48A);
  box-shadow: 0 .25rem .6rem rgba(0,0,0,.08), inset 0 0 .35rem rgba(255,255,255,.7);
}

/* NAV */
.c-nav { width: 100%; }
.c-nav__panel {
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  transform: translateY(-.25rem);
  transition: max-height .26s cubic-bezier(.16,1,.3,1), opacity .2s, transform .26s;
  background: rgba(255,255,255,.82);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(0,0,0,.06);
  border-radius: .75rem;
  padding: .625rem;
  margin-top: .35rem;
}
.c-nav:not(.u-is-collapsed) .c-nav__panel { max-height: 5rem; opacity: 1; transform: translateY(0); }

.c-nav__row {
  display: grid;
  grid-template-columns: auto 1fr auto; /* profile | search | settings */
  align-items: center;
  gap: .5rem;
}

/* Icon buttons in nav */
.c-icon-btn {
  inline-size: 2rem; block-size: 2rem;
  display: grid; place-items: center;
  border: 1px solid rgba(50,50,70,0.15);
  border-radius: .75rem;
  background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.85), rgba(255,255,255,0)), linear-gradient(145deg, #F8F5EF, #EDE7DC);
  box-shadow: inset 0 0 .25rem rgba(255,255,255,.55), 0 .15rem .35rem rgba(0,0,0,.08);
}

/* Search in nav */
.c-search { position: relative; display: block; }
.c-search__input {
  inline-size: 100%;
  block-size: 2.25rem;
  padding-inline: 1.75rem .75rem;
  border-radius: .75rem;
  border: 1px solid rgba(0,0,0,0.08);
  background: linear-gradient(180deg,#fff,#f7f7fa);
}
.c-search__icon {
  position: absolute; inset-inline-start: .625rem; inset-block-start: 50%;
  transform: translateY(-50%); opacity: .65;
}

/* Date block under nav with small gap */
.c-meta-block { margin-top: .5rem; }
.c-title--date { margin: .125rem 0 .25rem 0; font-weight: 700; }
.c-subtitle   { margin: 0; color: #475569; }

/* Smooth tiny push when nav opens */
.o-header.is-nav-open .c-meta-block { margin-top: .625rem; }

/* Lists */
.c-list { padding-inline: .375rem; }
.c-list__header { display: grid; gap: .5rem; justify-items: center; margin: .75rem 0 .5rem; }
.c-section-title { margin: 0; font-size: 1.25rem; font-weight: 800; }

.c-completed-chip{
  width: 100%; max-width: 17.5rem;
  display: inline-flex; align-items: center; justify-content: center;
  gap: .5rem; padding: .5rem .875rem;
  border-radius: 999rem; border: 1px solid rgba(0,0,0,.08);
  background: linear-gradient(145deg,#F8F5EF,#EDE7DC);
  box-shadow: 0 .2rem .5rem rgba(0,0,0,.08); font-weight: 600;
  height: 2.625rem; cursor: pointer;
}

.c-list__items, .c-completed__list { list-style: none; margin: 0; padding: 0; display: grid; gap: .625rem; }

.c-item {
  display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: .625rem;
  min-block-size: 2.75rem; padding: .625rem .75rem;
  border: 1px solid rgba(0,0,0,.06); border-radius: .75rem;
  background: linear-gradient(180deg,#fff,#f8fbff); box-shadow: 0 1px 0 rgba(0,0,0,.02);
}
.c-item__label{ display: contents; }
.c-item__check{ inline-size: 1.0625rem; block-size: 1.0625rem; accent-color: #F7C843; }
.c-item__text { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-weight: 1000; }
.c-item__remove{ inline-size: 1.75rem; block-size: 1.75rem; display: grid; place-items:center; border:0; background:transparent; color:#7C3AED; font-size:1.375rem; line-height:1; }

/* on complete animation (text) */
.c-item.is-completing .c-item__text { animation: strike-fade 560ms cubic-bezier(.2,.7,.2,1) forwards; }
@keyframes strike-fade { 0%{text-decoration:none;opacity:1;} 35%{text-decoration:line-through;text-decoration-color:#36ADC1;} 100%{text-decoration:line-through;opacity:0;} }

/* completed style */
.c-completed__list .c-item { background: linear-gradient(180deg,#f6fff7,#e9fff0); border-color: rgba(37,160,103,.25); }
.c-completed__list .c-item .c-item__text { color: #256b4c; font-weight: 600; }

/* CTA + week/month */
.c-cta-wrap { display: grid; justify-items: center; margin: .875rem 0 .5rem; }
.c-cta {
  inline-size: 80%; max-inline-size: 16.25rem; block-size: 2.625rem;
  border-radius: 999rem; border: 0; color: #fff; font-weight: 700; letter-spacing: .02em;
  background: linear-gradient(90deg,#0ea5e9,#2563eb); box-shadow: 0 .625rem 1.25rem rgba(2,132,199,.25);
}
.c-belowcta{ display:flex; gap:.625rem; justify-content:center; }
.c-headbtn{ padding:.5rem .875rem; border-radius:999rem; border:1px solid rgba(0,0,0,.08); background:linear-gradient(145deg,#F8F5EF,#EDE7DC); box-shadow:0 .2rem .5rem rgba(0,0,0,.08);}

/* === Bottom Sheet — elegant/biblical look === */
.c-sheet { position: fixed; inset: 0; z-index: 40; }
.c-sheet__backdrop{ position:absolute; inset:0; background: rgba(15,23,42,.45); backdrop-filter: blur(2px); }
.c-sheet__panel{
  position:absolute; inset-inline:0; bottom:0; margin:0 auto; width:100%; max-width: var(--phone-w);
  border-radius: 1rem 1rem 0 0;
  background:
    radial-gradient(200% 140% at 50% -20%, #fff9e8 0%, #f7edd9 40%, #f4efe6 100%);
  border: 1px solid rgba(197,154,33,.25);
  box-shadow: 0 -0.75rem 1.875rem rgba(15,23,42,.18), inset 0 .125rem .5rem rgba(255,255,255,.6);
  transform: translateY(100%);
  transition: transform .28s cubic-bezier(.16,1,.3,1);
  padding: 1rem .875rem 1.25rem;
}
.c-sheet.is-open .c-sheet__panel { transform: translateY(0); }
.c-sheet.u-hidden { display: none; }
.u-noscroll { overflow: hidden; }

.c-sheet__header { display:flex; align-items:center; justify-content:space-between; margin-bottom:.5rem; }
.c-sheet__title{
  margin:0; font-family:'Cormorant Garamond',serif; font-weight:600; letter-spacing:.02em;
  background: linear-gradient(90deg,#6bcf8e,#9be7b2,#b9fbc0); -webkit-background-clip:text; background-clip:text; color:transparent;
}
.c-icon-btn--ghost{ border:0; background:transparent; font-size:1.125rem; }

.f-field{ display:grid; gap:.25rem; margin:.5rem 0; }
.f-field--icon{ position:relative; }
.f-label{ font-weight:600; color:#374151; }
.f-input{
  inline-size:100%; block-size:2.25rem; border-radius:.625rem;
  border:1px solid rgba(0,0,0,.08); background:#fff;
  padding-inline:.75rem 2rem;
}
.f-icon{ position:absolute; inset-inline-start:.5rem; inset-block-start:50%; transform:translateY(-50%); opacity:.65; }

.c-sheet__actions{ display:flex; justify-content:flex-end; gap:.5rem; margin-top:.5rem; }
.c-btn{ padding:.5rem .875rem; border-radius:.625rem; border:1px solid rgba(0,0,0,.08); }
.c-btn--ghost{ background:#fff; }
.c-btn--primary{ background:linear-gradient(90deg,#0ea5e9,#2563eb); color:#fff; border:0; }

/* Confetti nodes */
.c-confetti { position:absolute; pointer-events:none; will-change: transform, opacity; }

/* Utilities */
.u-hidden { display: none !important; }
/* ===== Make the app fill the whole viewport on phones ===== */
html, body { height: 100%; }

/* Phone-first: full-bleed, no outer padding/border radius */
.o-page {
  min-height: 100dvh;  /* iOS safe dynamic viewport */
  padding: 0;          /* remove outer gutter */
  display: grid;
  place-items: stretch; /* stretch child to edges */
  background: #fff;     /* page background when full-bleed */
}

/* The app container now fills the viewport */
.o-phone {
  width: 100%;
  max-width: none;            /* no fixed 390px cap on phones */
  min-height: 100dvh;
  border-radius: 0;           /* remove rounded card */
  box-shadow: none;           /* remove card shadow */
  background: #fff;           /* solid background to edges */
  /* Respect notches / home-indicator */
  padding:
    calc(env(safe-area-inset-top) + 16px)
    16px
    calc(env(safe-area-inset-bottom) + 16px);
  display: flex;
  flex-direction: column;
}

/* Keep header & content spacing consistent when full-bleed */
.o-header { margin-inline: auto; width: 100%; max-width: 24.375rem; }
.c-list, .c-cta-wrap, .c-belowcta, .c-nav, .c-meta-block {
  margin-inline: auto;
  width: 100%;
  max-width: 24.375rem; /* keeps inner content readable */
}

/* ===== Optional: On wider viewports (desktop dev tools) restore the card look ===== */
@media (min-width: 420px) {
  .o-page {
    padding: 1rem;
    place-items: center;      /* center the card on desktop */
    background: linear-gradient(180deg,#eef2f6,#e9eff7);
  }
  .o-phone {
    max-width: 24.375rem;     /* 390px card */
    min-height: calc(100dvh - 2rem);
    border-radius: 1rem;
    box-shadow: 0 0.625rem 1.75rem rgba(15,23,42,.12);
    padding: 1.125rem 1.125rem 1.5rem;
  }
}
/* ====== LOGOUT ICON BUTTON (TOP-LEFT, CENTERED) ====== */
#btnLogout.c-logout {
  position: absolute;
  inset-inline-start: 1rem;        /* ⬅️ LEFT side for RTL/LTR */
  inset-block-start: .75rem;
  display: grid;
  place-items: center;            /* centers the SVG perfectly */
  inline-size: 2.4rem;
  block-size: 2.4rem;
  padding: 0;
  line-height: 0;
  border-radius: 50%;
  border: 1px solid rgba(0, 0, 0, .06);
  background:
    radial-gradient(120% 120% at 40% 30%, rgba(255, 255, 255, .85), rgba(255, 255, 255, 0)),
    linear-gradient(160deg, #FFF6CC, #FFE37A);
  box-shadow:
    inset 0 0 .25rem rgba(255, 255, 255, .7),
    0 .15rem .35rem rgba(0, 0, 0, .10);
  cursor: pointer;
  transition:
    transform 150ms cubic-bezier(.16, 1, .3, 1),
    box-shadow 150ms cubic-bezier(.16, 1, .3, 1);
}

#btnLogout.c-logout:hover   { transform: translateY(-1px); }
#btnLogout.c-logout:active  { transform: translateY(1px); }
#btnLogout.c-logout svg {
  width: 1.25rem;
  height: 1.25rem;
  display: block;
}
/* Collapse the nav so it doesn't reserve space when closed */
#appNav.c-nav {
  overflow: hidden;
  max-height: 0;           /* no space when closed */
  opacity: 0;
  visibility: hidden;
  transition: max-height .28s ease, opacity .2s ease;
}

/* Only add vertical space when OPEN (remove .u-is-collapsed) */
#appNav.c-nav:not(.u-is-collapsed) {
  /* adjust this to the real content height of your nav */
  max-height: 240px;       /* enough to show the whole panel */
  opacity: 1;
  visibility: visible;
}

/* Optional: remove padding when closed so it truly collapses */
#appNav.c-nav.u-is-collapsed .c-nav__panel {
  padding-block: 0 !important;
}

/* Make sure the date block is not reserving extra space */
#dateBlock {
  margin-top: 0 !important;   /* no fixed spacer */
  transition: margin-top .28s ease;
}

/* If you want a tiny breathing room when nav is open */
#appNav.c-nav:not(.u-is-collapsed) ~ #dateBlock {
  margin-top: .25rem;         /* optional – remove if you want zero */
}

