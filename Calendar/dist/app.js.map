{"version":3,"file":"app.js","names":["lemonToggle","document","getElementById","appNav","taskList","completedList","completedSection","completedToggle","addEventBtn","sheet","sheetBackdrop","querySelector","sheetCloseBtn","sheetForm","titleInput","dateInput","timeInput","peopleHint","show","el","classList","remove","hide","add","openSheet","setTimeout","focus","closeSheet","taskItemTemplate","text","li","createElement","className","innerHTML","completedItemTemplate","confettiAtEl","r","getBoundingClientRect","confettiBurst","left","width","window","scrollX","top","height","scrollY","originX","originY","colors","COUNT","MIN","MAX","DUR","i","p","style","background","length","body","appendChild","ang","Math","random","PI","dist","tx","cos","ty","sin","animate","transform","opacity","duration","easing","finished","addEventListener","toggle","e","chk","target","contains","closest","textEl","textContent","trim","onDone","removeEventListener","parentNode","removeChild","once","opened","setAttribute","String","key","preventDefault","title","value","date","time","dt","Date","dd","getDate","padStart","mm","getMonth","yy","getFullYear","slice","label","reset"],"sources":["../app.js"],"sourcesContent":["// Calendar/app.js\r\n(function () {\r\n  // ---- DOM ----\r\n  var lemonToggle      = document.getElementById('lemonToggle');\r\n  var appNav           = document.getElementById('appNav');\r\n\r\n  var taskList         = document.getElementById('taskList');\r\n  var completedList    = document.getElementById('completedList');\r\n  var completedSection = document.getElementById('completedSection');\r\n  var completedToggle  = document.getElementById('completedToggle');\r\n\r\n  var addEventBtn      = document.getElementById('addEventBtn');\r\n  var sheet            = document.getElementById('eventSheet');\r\n  var sheetBackdrop    = sheet ? sheet.querySelector('[data-close]') : null;\r\n  var sheetCloseBtn    = sheet ? sheet.querySelector('.c-icon-btn--ghost[data-close]') : null;\r\n  var sheetForm        = document.getElementById('sheetForm');\r\n  var titleInput       = document.getElementById('evtTitle');\r\n  var dateInput        = document.getElementById('evtDate');\r\n  var timeInput        = document.getElementById('evtTime');\r\n  var peopleHint       = document.getElementById('peopleHint');\r\n\r\n  // ---- helpers ----\r\n  function show(el){ if(el) el.classList.remove('u-hidden'); }\r\n  function hide(el){ if(el) el.classList.add('u-hidden'); }\r\n  function openSheet(){\r\n    hide(sheet); // reset display:none to reflow\r\n    sheet.classList.remove('u-hidden');\r\n    setTimeout(function(){ sheet.classList.add('is-open'); }, 0);\r\n    if (titleInput) titleInput.focus();\r\n  }\r\n  function closeSheet(){\r\n    sheet.classList.remove('is-open');\r\n    setTimeout(function(){ show(sheet) && hide(sheet); }, 320);\r\n    hide(sheet);\r\n  }\r\n\r\n  function taskItemTemplate(text) {\r\n    var li = document.createElement('li');\r\n    li.className = 'c-item';\r\n    li.innerHTML =\r\n      '<label class=\"c-item__label\">' +\r\n        '<input class=\"c-item__check\" type=\"checkbox\" />' +\r\n        '<p class=\"c-item__text\">' + text + '</p>' +\r\n      '</label>';\r\n    return li;\r\n  }\r\n  function completedItemTemplate(text) {\r\n    var li = document.createElement('li');\r\n    li.className = 'c-item';\r\n    li.innerHTML =\r\n      '<div class=\"c-item__label\">' +\r\n        '<p class=\"c-item__text\">' + text + '</p>' +\r\n      '</div>';\r\n    return li;\r\n  }\r\n\r\n  // Big confetti\r\n  function confettiAtEl(el){\r\n    if (!el) return;\r\n    var r = el.getBoundingClientRect();\r\n    confettiBurst(r.left + r.width/2 + window.scrollX, r.top + r.height/2 + window.scrollY);\r\n  }\r\n  function confettiBurst(originX, originY){\r\n    var colors = ['#FF6B6B','#FFD93D','#6BCB77','#4D96FF','#B8C0FF','#F896D8'];\r\n    var COUNT = 48; var MIN = 80; var MAX = 220; var DUR = 1200;\r\n\r\n    for (var i=0;i<COUNT;i++){\r\n      (function(i){\r\n        var p = document.createElement('span');\r\n        p.className = 'c-confetti';\r\n        p.style.left = originX + 'px';\r\n        p.style.top  = originY + 'px';\r\n        p.style.background = colors[i % colors.length];\r\n        document.body.appendChild(p);\r\n\r\n        var ang = Math.random()*Math.PI*2;\r\n        var dist = MIN + Math.random()*(MAX-MIN);\r\n        var tx = Math.cos(ang)*dist;\r\n        var ty = Math.sin(ang)*dist;\r\n\r\n        p.animate(\r\n          [\r\n            { transform:'translate(0,0) scale(1)', opacity:1 },\r\n            { transform:'translate('+tx+'px,'+ty+'px) scale(0.5)', opacity:0 }\r\n          ],\r\n          { duration: DUR, easing:'cubic-bezier(.2,.7,.2,1)' }\r\n        ).finished.finally(function(){ p.remove(); });\r\n      })(i);\r\n    }\r\n  }\r\n\r\n  // ---- Lemon → nav ----\r\n  if (lemonToggle) {\r\n    lemonToggle.addEventListener('click', function () {\r\n      if (appNav) appNav.classList.toggle('u-is-collapsed');\r\n    });\r\n  }\r\n\r\n  // ---- Tasks: complete → “בוצע” ----\r\n  if (taskList) {\r\n    taskList.addEventListener('change', function (e) {\r\n      var chk = e.target;\r\n      if (!chk || !chk.classList.contains('c-item__check')) return;\r\n\r\n      var li = chk.closest('.c-item');\r\n      var textEl = li ? li.querySelector('.c-item__text') : null;\r\n      var text = textEl ? (textEl.textContent || '').trim() : '';\r\n\r\n      confettiAtEl(chk);\r\n      if (li) li.classList.add('is-completing');\r\n\r\n      function onDone(){\r\n        if (!li) return;\r\n        li.removeEventListener('animationend', onDone);\r\n        li.parentNode.removeChild(li);\r\n\r\n        // show “בוצע” on first completion\r\n        if (completedSection) completedSection.classList.remove('u-hidden');\r\n        if (completedList) completedList.appendChild(completedItemTemplate(text));\r\n      }\r\n      if (li) li.addEventListener('animationend', onDone, { once:true });\r\n    });\r\n  }\r\n\r\n  // “בוצע” toggle\r\n  if (completedToggle && completedList) {\r\n    completedToggle.addEventListener('click', function(){\r\n      var opened = completedList.classList.toggle('u-hidden');\r\n      completedToggle.setAttribute('aria-expanded', String(!opened));\r\n    });\r\n  }\r\n\r\n  // ---- Bottom sheet open/close ----\r\n  if (addEventBtn) addEventBtn.addEventListener('click', openSheet);\r\n  if (sheetBackdrop) sheetBackdrop.addEventListener('click', closeSheet);\r\n  if (sheetCloseBtn) sheetCloseBtn.addEventListener('click', closeSheet);\r\n  document.addEventListener('keydown', function(e){ if (e.key === 'Escape') closeSheet(); });\r\n\r\n  // ---- Submit new event ----\r\n  if (sheetForm) {\r\n    sheetForm.addEventListener('submit', function (e) {\r\n      e.preventDefault();\r\n      var title = (titleInput && titleInput.value || '').trim();\r\n      var date  = (dateInput && dateInput.value  || '').trim();\r\n      var time  = (timeInput && timeInput.value  || '').trim();\r\n      if (!title || !date || !time) return;\r\n\r\n      var dt = new Date(date);\r\n      var dd = String(dt.getDate()).padStart(2,'0');\r\n      var mm = String(dt.getMonth()+1).padStart(2,'0');\r\n      var yy = String(dt.getFullYear()).slice(-2);\r\n      var label = title + ' ' + time + ' (' + dd + '/' + mm + '/' + yy + ')';\r\n\r\n      if (taskList) taskList.appendChild(taskItemTemplate(label));\r\n      sheetForm.reset();\r\n      closeSheet();\r\n    });\r\n  }\r\n})();\r\n"],"mappings":"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","ignoreList":[]}